@using Microsoft.AspNetCore.Authorization
@using LiteAbpUBD.Business
@inject IAuthorizationService authorizationService

@if (authorizationService.AuthorizeAsync(PermissionConsts.用户管理).Result.Succeeded || authorizationService.AuthorizeAsync(PermissionConsts.角色管理).Result.Succeeded)
{
    <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle" href="#navbar-base" data-bs-toggle="dropdown" data-bs-auto-close="false" role="button" aria-expanded="false">
            <span class="nav-link-icon d-md-none d-lg-inline-block">
                <!-- Download SVG icon from http://tabler-icons.io/i/package -->
                <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none" /><polyline points="12 3 20 7.5 20 16.5 12 21 4 16.5 4 7.5 12 3" /><line x1="12" y1="12" x2="20" y2="7.5" /><line x1="12" y1="12" x2="12" y2="21" /><line x1="12" y1="12" x2="4" y2="7.5" /><line x1="16" y1="5.25" x2="8" y2="9.75" /></svg>
            </span>
            <span class="nav-link-title">
                用户和角色
            </span>
        </a>
        <div class="dropdown-menu">
            <div class="dropdown-menu-columns">
                <div class="dropdown-menu-column">
                    @if (authorizationService.AuthorizeAsync(PermissionConsts.用户管理).Result.Succeeded)
                    {
                        <a class="dropdown-item" href="/user">
                            用户管理
                        </a>
                    }
                    @if (authorizationService.AuthorizeAsync(PermissionConsts.角色管理).Result.Succeeded)
                    {
                        <a class="dropdown-item" href="/role">
                            角色管理
                        </a>
                    }
                </div>
            </div>
        </div>
    </li>
}